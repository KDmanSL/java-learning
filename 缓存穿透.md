# 缓存穿透

出现的问题：当请求的数据数据库中不存在时，会导致所有的请求都打到数据库，从而导致缓存失效。

解决方案：缓存空对象   布隆过滤（redis与客户端中间加一个布隆层）



<h1>缓存雪崩</h1>

出现的问题：同一时间大量缓存的Key同时失效。

出现原因：在初始从数据库批量往redis中缓存的时候设置同一个ddl，或者是redis服务器宕机

解决方案：如果是ddl设置导致的，可以在缓存的ddl上额外加一个随机值。如果是服务器宕机导致，可以通过利用redis集群提高服务的可用性，或者给业务添加多级缓存。



<h1>缓存击穿</h1>

热点Key问题

出现的原因：某一个key被高并发访问，key此时失效，于是大量的请求会打到数据库上。

解决方案：

​	1.互斥锁。缓存重建的时候加锁，让第一个请求来重建缓存，其它请求等待其结束后释放锁再从redis获取缓存

​	2.逻辑过期。缓存不会真的失效，而是设置一个标识，保留原有的旧数据，当标识说明缓存过期后，单独开一个线程来更新缓存，此时其它的请求直接返回旧缓存数据。

